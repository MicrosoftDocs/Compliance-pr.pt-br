---
title: Resiliência de dados do SharePoint e do OneDrive no Microsoft 365
description: Este artigo fornece uma visão geral da resiliência de dados do SharePoint e do OneDrive no Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
f1.keywords:
- NOCSH
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
titleSuffix: Microsoft Service Assurance
ms.openlocfilehash: c940b778681805a1e50a9e565117cd67deb52566
ms.sourcegitcommit: 2973d25e9e0185b84d281f963553a332eac1c1a3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/28/2021
ms.locfileid: "50040374"
---
# <a name="sharepoint-and-onedrive-data-resiliency-in-microsoft-365"></a><span data-ttu-id="a2f57-103">Resiliência de dados do SharePoint e do OneDrive no Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="a2f57-103">SharePoint and OneDrive data resiliency in Microsoft 365</span></span>

<span data-ttu-id="a2f57-104">No Microsoft 365, o OneDrive é criado com base na plataforma de arquivos do SharePoint.</span><span class="sxs-lookup"><span data-stu-id="a2f57-104">Within Microsoft 365, OneDrive is built on top of the SharePoint file platform.</span></span> <span data-ttu-id="a2f57-105">Neste artigo, somente o SharePoint será usado para se referir a ambos os produtos.</span><span class="sxs-lookup"><span data-stu-id="a2f57-105">In this article, only SharePoint will be used to refer to both products.</span></span> <span data-ttu-id="a2f57-106">O conteúdo deste artigo é relevante para o Microsoft 365 e não se aplica aos serviços de consumidor.</span><span class="sxs-lookup"><span data-stu-id="a2f57-106">The contents of this article are relevant to Microsoft 365 and do not apply to consumer services.</span></span>

<span data-ttu-id="a2f57-107">Há dois ativos principais que compom o armazenamento de conteúdo principal do SharePoint:</span><span class="sxs-lookup"><span data-stu-id="a2f57-107">There are two primary assets that make up the core content storage of SharePoint:</span></span>

- <span data-ttu-id="a2f57-108">**Metadados:** os metadados sobre cada arquivo são armazenados no Banco de Dados SQL do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-108">**Metadata**: Metadata about each file is stored in Azure SQL Database.</span></span> <span data-ttu-id="a2f57-109">O SQL do Azure oferece uma história de continuidade de negócios completa que o SharePoint usa e os detalhes são abordados posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="a2f57-109">Azure SQL offers a complete business continuity story that SharePoint uses and details are covered later in this article.</span></span>
- <span data-ttu-id="a2f57-110">**Armazenamento de blob:** o conteúdo do usuário carregado no SharePoint é armazenado no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-110">**Blob storage**: User content that is uploaded into SharePoint is stored in Azure Storage.</span></span> <span data-ttu-id="a2f57-111">O SharePoint criou um plano de resiliência personalizado sobre o Armazenamento do Azure para garantir a duplicação quase em tempo real do conteúdo do usuário e um sistema realmente ativo/ativo.</span><span class="sxs-lookup"><span data-stu-id="a2f57-111">SharePoint has built a custom resiliency plan on top of Azure Storage to ensure near real-time duplication of user content and a truly active/active system.</span></span>

<span data-ttu-id="a2f57-112">O conjunto completo de controles para garantir a resiliência de dados é explicado em seções posteriores.</span><span class="sxs-lookup"><span data-stu-id="a2f57-112">The complete set of controls to ensure data resiliency is explained in further sections.</span></span>

## <a name="blob-storage-resilience"></a><span data-ttu-id="a2f57-113">Resiliência de armazenamento de blob</span><span class="sxs-lookup"><span data-stu-id="a2f57-113">Blob storage resilience</span></span>

<span data-ttu-id="a2f57-114">O SharePoint tem uma solução personalizada para armazenamento de dados do cliente no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-114">SharePoint has a custom-built solution for storage of customer data in Azure Storage.</span></span> <span data-ttu-id="a2f57-115">Cada arquivo é gravado simultaneamente em uma região de datacenter principal e secundária.</span><span class="sxs-lookup"><span data-stu-id="a2f57-115">Every file is simultaneously written into both a primary and a secondary datacenter region.</span></span> <span data-ttu-id="a2f57-116">Se as gravações em uma das regiões do Azure falharem, o arquivo salvo falhará.</span><span class="sxs-lookup"><span data-stu-id="a2f57-116">If writes to either Azure region fail, the file save will fail.</span></span> <span data-ttu-id="a2f57-117">Depois que o conteúdo é gravado no Armazenamento do Azure, as verificações são armazenadas separadamente com metadados e são usadas para garantir que a gravação comprometida seja idêntica ao arquivo original enviado ao SharePoint durante todas as leituras futuras.</span><span class="sxs-lookup"><span data-stu-id="a2f57-117">After the contents are written into Azure Storage, checksums are stored separately with metadata, and are used to ensure that the committed write is identical to the original file sent to SharePoint during all future reads.</span></span> <span data-ttu-id="a2f57-118">Essa mesma técnica é usada em todos os fluxos de trabalho para evitar a propagação de qualquer corrupção que deva ocorrer.</span><span class="sxs-lookup"><span data-stu-id="a2f57-118">This same technique is used in all workflows to prevent propagation of any corruption that should occur.</span></span> <span data-ttu-id="a2f57-119">Em cada região, o Armazenamento Redundante Local (LRS) do Azure fornece um alto nível de confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="a2f57-119">Within each region, Azure Locally Redundant Storage (LRS) provides a high level of reliability.</span></span> <span data-ttu-id="a2f57-120">Confira o [artigo de redundância de](https://docs.microsoft.com/azure/storage/common/storage-redundancy-lrs) Armazenamento do Azure para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="a2f57-120">See the [Azure Storage redundancy](https://docs.microsoft.com/azure/storage/common/storage-redundancy-lrs) article for details.</span></span>

<span data-ttu-id="a2f57-121">O SharePoint usa Append-Only armazenamento.</span><span class="sxs-lookup"><span data-stu-id="a2f57-121">SharePoint uses Append-Only storage.</span></span> <span data-ttu-id="a2f57-122">Esse processo garante que os arquivos não possam ser alterados ou corrompidos após um salvar inicial, mas também usando o versionamento no produto, qualquer versão anterior do conteúdo do arquivo pode ser recuperada.</span><span class="sxs-lookup"><span data-stu-id="a2f57-122">This process ensures that files cannot be changed or corrupted after an initial save, but also by using in-product versioning, any previous version of the file contents can be retrieved.</span></span>

<span data-ttu-id="a2f57-123">Os ambientes do SharePoint em qualquer datacenter podem acessar contêineres de armazenamento em ambas as regiões do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-123">SharePoint environments in either datacenter can access storage containers in both Azure regions.</span></span> <span data-ttu-id="a2f57-124">Por motivos de desempenho, o contêiner de armazenamento no mesmo datacenter local é sempre preferencial, no entanto, as solicitações de leitura que não veem os resultados dentro de um limite desejado terão o mesmo conteúdo solicitado do datacenter remoto para garantir que os dados estão sempre disponíveis.</span><span class="sxs-lookup"><span data-stu-id="a2f57-124">For performance reasons the storage container in the same local datacenter is always preferred, however, read requests that do not see results within a desired threshold will have the same content requested from the remote datacenter to ensure data is always available.</span></span>

## <a name="metadata-resilience"></a><span data-ttu-id="a2f57-125">Resiliência de metadados</span><span class="sxs-lookup"><span data-stu-id="a2f57-125">Metadata resilience</span></span>

<span data-ttu-id="a2f57-126">Os metadados do SharePoint também são fundamentais para acessar o conteúdo do usuário, pois armazenam o local e as teclas de acesso ao conteúdo armazenado no Armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-126">SharePoint metadata is also critical to accessing user content as it stores the location of and access keys to the content stored in Azure Storage.</span></span> <span data-ttu-id="a2f57-127">Esses bancos de dados são armazenados no SQL do Azure, que tem um amplo [plano de continuidade de negócios.](https://docs.microsoft.com/azure/sql-database/sql-database-business-continuity)</span><span class="sxs-lookup"><span data-stu-id="a2f57-127">These databases are stored in Azure SQL, which has an extensive [business continuity plan](https://docs.microsoft.com/azure/sql-database/sql-database-business-continuity).</span></span>

<span data-ttu-id="a2f57-128">O SharePoint usa o modelo de replicação fornecido pelo SQL do Azure e criou uma tecnologia de automação proprietária para determinar que um failover é necessário e para iniciar a operação, se necessário.</span><span class="sxs-lookup"><span data-stu-id="a2f57-128">SharePoint uses the replication model provided by Azure SQL and has built a proprietary automation technology to determine a failover is required and to initiate the operation if necessary.</span></span> <span data-ttu-id="a2f57-129">Dessa forma, ele se enquadra na categoria "Failover de banco de dados manual" de uma perspectiva sql do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-129">As such, it falls into the 'Manual database failover' category from an Azure SQL perspective.</span></span> <span data-ttu-id="a2f57-130">As métricas mais recentes para recuperação de banco de dados SQL do Azure estão disponíveis [aqui.](https://docs.microsoft.com/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server)</span><span class="sxs-lookup"><span data-stu-id="a2f57-130">The latest metrics for Azure SQL database recoverability are available [here](https://docs.microsoft.com/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server).</span></span>

<span data-ttu-id="a2f57-131">O SharePoint usa o sistema de backup do Azure SQL para habilitar o Point in Time Restores (PITR) por até 14 dias.</span><span class="sxs-lookup"><span data-stu-id="a2f57-131">SharePoint uses Azure SQL's backup system to enable Point in Time Restores (PITR) for up to 14 days.</span></span> <span data-ttu-id="a2f57-132">O PITR é abordado mais em [uma seção posterior.](#deletion-backup-and-point-in-time-restore)</span><span class="sxs-lookup"><span data-stu-id="a2f57-132">PITR is covered more in a [later section.](#deletion-backup-and-point-in-time-restore)</span></span>

## <a name="automated-failover"></a><span data-ttu-id="a2f57-133">Failover automatizado</span><span class="sxs-lookup"><span data-stu-id="a2f57-133">Automated failover</span></span>

<span data-ttu-id="a2f57-134">O SharePoint usa um failover automatizado personalizado para minimizar o impacto na experiência do cliente quando ocorre um evento específico do local.</span><span class="sxs-lookup"><span data-stu-id="a2f57-134">SharePoint uses a custom-built automated failover to minimize the impact on customer experience when a location-specific event occurs.</span></span> <span data-ttu-id="a2f57-135">A detecção de uma falha única ou de vários componentes, controlada pelo monitoramento além de certos limites, resultará no redirecionamento automatizado da atividade de todos os usuários fora do ambiente problemático e em um secundário morno.</span><span class="sxs-lookup"><span data-stu-id="a2f57-135">Monitoring-driven automation detecting a single or multi-component failure beyond certain thresholds will result in automated redirection of all users' activity out of the problematic environment and over to a warm secondary.</span></span> <span data-ttu-id="a2f57-136">Um failover resulta em metadados e armazenamento de computação sendo atendido inteiramente fora do novo datacenter.</span><span class="sxs-lookup"><span data-stu-id="a2f57-136">A failover results in metadata and compute storage being served entirely out of the new datacenter.</span></span> <span data-ttu-id="a2f57-137">Como o armazenamento de blob sempre é executado inteiramente ativo/ativo, nenhuma alteração é necessária para um failover.</span><span class="sxs-lookup"><span data-stu-id="a2f57-137">As blob storage always runs entirely active/active, no change is required for a failover.</span></span> <span data-ttu-id="a2f57-138">A camada de computação preferirá o contêiner de blob mais próximo, mas usará os locais de armazenamento de blob local e remoto a qualquer momento para garantir a disponibilidade.</span><span class="sxs-lookup"><span data-stu-id="a2f57-138">The compute tier will prefer the nearest blob container but will use both local and remote blob storage locations at any time to ensure availability.</span></span>

<span data-ttu-id="a2f57-139">O SharePoint usa o serviço de Porta Frontal do Azure para fornecer roteamento interno à rede da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a2f57-139">SharePoint uses the Azure Front Door service to provide routing internal to the Microsoft network.</span></span> <span data-ttu-id="a2f57-140">Essa configuração permite o redirecionamento de failover independente do DNS e reduz o efeito do cache da máquina local.</span><span class="sxs-lookup"><span data-stu-id="a2f57-140">This configuration allows failover redirection independent of DNS and reduces the effect of local-machine caching.</span></span> <span data-ttu-id="a2f57-141">A maioria das operações de failover é transparente para os usuários finais.</span><span class="sxs-lookup"><span data-stu-id="a2f57-141">Most failover operations are transparent to end users.</span></span> <span data-ttu-id="a2f57-142">Se houver um failover, os clientes não precisarão fazer alterações para manter o acesso ao serviço.</span><span class="sxs-lookup"><span data-stu-id="a2f57-142">If there is a failover, customers will not need to make any changes in order to maintain access to the service.</span></span>

## <a name="versioning-and-files-restore"></a><span data-ttu-id="a2f57-143">Versioning and Files Restore</span><span class="sxs-lookup"><span data-stu-id="a2f57-143">Versioning and Files Restore</span></span>

<span data-ttu-id="a2f57-144">Para bibliotecas de documentos recém-criadas, o SharePoint assume como padrão 500 versões em cada arquivo e pode ser configurado para reter mais versões, se desejado.</span><span class="sxs-lookup"><span data-stu-id="a2f57-144">For newly created document libraries, SharePoint defaults to 500 versions on every file and can be configured to retain more versions if desired.</span></span> <span data-ttu-id="a2f57-145">A interface do usuário não permite que um valor com menos de 100 versões seja definido, mas é possível definir o sistema para armazenar menos versões usando APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="a2f57-145">The UI doesn't allow a value fewer than 100 versions to be set, but it is possible to set the system to store fewer versions using public APIs.</span></span> <span data-ttu-id="a2f57-146">Para uma confiabilidade, qualquer valor menor que 100 não é recomendado e pode resultar em atividade do usuário causando perda de dados inadvertida.</span><span class="sxs-lookup"><span data-stu-id="a2f57-146">For reliability, any value less than 100 isn't recommended and can result in user activity causing inadvertent data loss.</span></span>

<span data-ttu-id="a2f57-147">Para obter mais informações sobre o versionamento, consulte [Versioning no SharePoint.](https://docs.microsoft.com/microsoft-365/community/versioning-basics-best-practices)</span><span class="sxs-lookup"><span data-stu-id="a2f57-147">For more information about versioning, see [Versioning in SharePoint](https://docs.microsoft.com/microsoft-365/community/versioning-basics-best-practices).</span></span>

<span data-ttu-id="a2f57-148">Restauração de arquivos é a capacidade de voltar 'no tempo' em qualquer biblioteca de documentos no SharePoint a qualquer segundo tempo nos últimos 30 dias.</span><span class="sxs-lookup"><span data-stu-id="a2f57-148">Files Restore is the ability to go 'back in time' on any Document Library in SharePoint to any second of time in the last 30 days.</span></span> <span data-ttu-id="a2f57-149">Esse processo pode ser usado para se recuperar de ransomware, exclusões em massa, corrupção ou qualquer outro evento.</span><span class="sxs-lookup"><span data-stu-id="a2f57-149">This process can be used to recover from ransomware, mass deletions, corruption, or any other event.</span></span> <span data-ttu-id="a2f57-150">Esse recurso usa versões de arquivo para reduzir as versões padrão pode reduzir a eficácia dessa restauração.</span><span class="sxs-lookup"><span data-stu-id="a2f57-150">This feature uses file versions so reducing default versions can reduce the effectiveness of this restore.</span></span>

<span data-ttu-id="a2f57-151">O recurso De restauração de arquivos está documentado para [o OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) e [o SharePoint.](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a)</span><span class="sxs-lookup"><span data-stu-id="a2f57-151">The Files Restore feature is documented for both [OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) and [SharePoint](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a).</span></span>

## <a name="deletion-backup-and-point-in-time-restore"></a><span data-ttu-id="a2f57-152">Exclusão, backup e restauração de ponto no tempo</span><span class="sxs-lookup"><span data-stu-id="a2f57-152">Deletion, backup, and Point in Time Restore</span></span>

<span data-ttu-id="a2f57-153">O conteúdo do usuário excluído do SharePoint passa pelo seguinte fluxo de exclusão.</span><span class="sxs-lookup"><span data-stu-id="a2f57-153">User content deleted from SharePoint goes through the following deletion flow.</span></span>

<span data-ttu-id="a2f57-154">Os itens excluídos são mantidos nas lixeiras por um determinado período de tempo.</span><span class="sxs-lookup"><span data-stu-id="a2f57-154">Deleted items are retained in recycle bins for a certain period of time.</span></span> <span data-ttu-id="a2f57-155">Para o SharePoint, o tempo de retenção é de 93 dias.</span><span class="sxs-lookup"><span data-stu-id="a2f57-155">For SharePoint, the retention time is 93 days.</span></span> <span data-ttu-id="a2f57-156">Ele começa quando você exclui o item do local original.</span><span class="sxs-lookup"><span data-stu-id="a2f57-156">It begins when you delete the item from its original location.</span></span> <span data-ttu-id="a2f57-157">Quando você exclui o item da lixeira do site, ele vai para a lixeira [do conjunto de sites.](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="a2f57-157">When you delete the item from the site recycle bin, it goes into the [site collection recycle bin](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span> <span data-ttu-id="a2f57-158">Ele permanece lá pelo restante dos 93 dias e, em seguida, é excluído permanentemente.</span><span class="sxs-lookup"><span data-stu-id="a2f57-158">It stays there for the remainder of the 93 days, and then is permanently deleted.</span></span> <span data-ttu-id="a2f57-159">Mais informações sobre como usar a lixeira estão disponíveis nestes links:</span><span class="sxs-lookup"><span data-stu-id="a2f57-159">More information about how to use the recycle bin is available at these links:</span></span>

- [<span data-ttu-id="a2f57-160">Restaurar itens na Lixeira</span><span class="sxs-lookup"><span data-stu-id="a2f57-160">Restore items in the Recycle Bin</span></span>](https://support.office.com/article/Restore-items-in-the-Recycle-Bin-of-a-SharePoint-site-6df466b6-55f2-4898-8d6e-c0dff851a0be)
- <span data-ttu-id="a2f57-161">[Restaure os itens excluídos da Lixeira do Conjunto de Sites.](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="a2f57-161">[Restore deleted items from the Site Collection Recycle Bin](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span>

<span data-ttu-id="a2f57-162">Esse processo é o fluxo de exclusão padrão e não leva em conta políticas ou rótulos de retenção.</span><span class="sxs-lookup"><span data-stu-id="a2f57-162">This process is the default deletion flow and does not take into account retention policies or labels.</span></span> <span data-ttu-id="a2f57-163">Para saber mais, confira [Saiba mais sobre retenção para o SharePoint e o OneDrive.](https://docs.microsoft.com/microsoft-365/compliance/retention-policies-sharepoint)</span><span class="sxs-lookup"><span data-stu-id="a2f57-163">For more information, see [Learn about retention for SharePoint and OneDrive](https://docs.microsoft.com/microsoft-365/compliance/retention-policies-sharepoint).</span></span>

<span data-ttu-id="a2f57-164">Depois que o pipeline de reciclagem de 93 dias for concluído, a exclusão ocorrerá de forma independente para Metadados e para o Armazenamento de Blob.</span><span class="sxs-lookup"><span data-stu-id="a2f57-164">After the 93-day recycle pipeline is complete, deletion takes place independently for Metadata and for Blob Storage.</span></span> <span data-ttu-id="a2f57-165">Os metadados serão removidos imediatamente do banco de dados, o que torna o conteúdo ilegível, a menos que os metadados sejam restaurados do backup.</span><span class="sxs-lookup"><span data-stu-id="a2f57-165">Metadata will be removed immediately from the database, which makes the content unreadable unless the metadata is restored from backup.</span></span> <span data-ttu-id="a2f57-166">O SharePoint mantém 14 dias de backups de metadados.</span><span class="sxs-lookup"><span data-stu-id="a2f57-166">SharePoint maintains 14 days-worth of backups of metadata.</span></span> <span data-ttu-id="a2f57-167">Esses backups são feitos localmente quase em tempo real e, em [seguida,](https://docs.microsoft.com/azure/sql-database/sql-database-automated-backups) são encaminhados para o armazenamento em contêineres redundantes de Armazenamento do Azure, de acordo com a documentação no momento desta publicação, um cronograma de 5 a 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="a2f57-167">These backups are taken locally in near real time and then pushed to storage in redundant Azure Storage containers on, [according to documentation](https://docs.microsoft.com/azure/sql-database/sql-database-automated-backups) at the time of this publication, a 5-10-minute schedule.</span></span>

<span data-ttu-id="a2f57-168">Ao excluir o conteúdo do Armazenamento de Blob, o SharePoint utiliza o recurso de exclusão suave do Armazenamento de Blob do Azure para se proteger contra exclusão acidental ou mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="a2f57-168">When deleting Blob Storage content, SharePoint utilizes the soft delete feature for Azure Blob Storage to protect against accidental or malicious deletion.</span></span> <span data-ttu-id="a2f57-169">Usando esse recurso, temos um total de 14 dias para restaurar o conteúdo antes que ele seja excluído permanentemente.</span><span class="sxs-lookup"><span data-stu-id="a2f57-169">Using this feature, we have a total of 14 days in which to restore content before it is permanently deleted.</span></span>

>[!Note]
><span data-ttu-id="a2f57-170">Embora os aplicativos da Microsoft enviem conteúdo para a lixeira para o processo padrão, o SharePoint fornece APIs que permitem ignorar a lixeira e forçar uma exclusão imediata.</span><span class="sxs-lookup"><span data-stu-id="a2f57-170">While Microsoft applications will send content to the recycle bin for the standard process, SharePoint does provide APIs that allow for skipping the recycle bin and forcing an immediate delete.</span></span> <span data-ttu-id="a2f57-171">Revise seus aplicativos para garantir que isso só seja feito quando necessário por motivos de conformidade.</span><span class="sxs-lookup"><span data-stu-id="a2f57-171">Review your applications to ensure this is only done when necessary for compliance reasons.</span></span>

## <a name="integrity-checks"></a><span data-ttu-id="a2f57-172">Verificações de integridade</span><span class="sxs-lookup"><span data-stu-id="a2f57-172">Integrity Checks</span></span>

<span data-ttu-id="a2f57-173">O SharePoint usa vários métodos para garantir a integridade de blobs e metadados em todos os estágios do ciclo de vida dos dados:</span><span class="sxs-lookup"><span data-stu-id="a2f57-173">SharePoint uses various methods to ensure the integrity of blobs and metadata at all stages of the data lifecycle:</span></span>

- <span data-ttu-id="a2f57-174">**Hash de arquivo armazenado em** metadados: o hash de todo o arquivo é armazenado com metadados de arquivo para garantir que a integridade dos dados no nível do documento seja mantida durante todas as operações</span><span class="sxs-lookup"><span data-stu-id="a2f57-174">**File hash stored in metadata**: Hash of the entire file is stored with file metadata to ensure document level data integrity is maintained during all operations</span></span>
- <span data-ttu-id="a2f57-175">**Hash de blob armazenado em** metadados: cada item de blob armazena um hash do conteúdo criptografado para proteger contra corrupção no armazenamento subjacente do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-175">**Blob hash stored in metadata**: Each blob-item stores a hash of the encrypted content to protect against corruption in underlying Azure storage.</span></span>
- <span data-ttu-id="a2f57-176">**Trabalho de** integridade de dados: a cada 14 dias, cada site é verificado quanto à integridade listando itens no banco de dados e combinando-os com os blobs listados no armazenamento do Azure.</span><span class="sxs-lookup"><span data-stu-id="a2f57-176">**Data integrity job**: Every 14 days, each site is scanned for integrity by listing items in the database and matching those up with listed blobs in Azure storage.</span></span> <span data-ttu-id="a2f57-177">O trabalho relata qualquer blob-reference de blob ausente blobs de armazenamento e pode recuperar esses blobs por meio do recurso de exclusão suave de armazenamento do [Azure,](https://docs.microsoft.com/azure/storage/blobs/soft-delete-blob-overview) se necessário.</span><span class="sxs-lookup"><span data-stu-id="a2f57-177">The job reports any blob-references missing storage-blobs and can retrieve those blobs through the [Azure storage soft-delete](https://docs.microsoft.com/azure/storage/blobs/soft-delete-blob-overview) feature if needed.</span></span>
